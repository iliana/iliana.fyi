@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  @font-face {
    font-family: "Inter subset";
    font-weight: 100 900;
    font-style: normal;
    font-display: swap;
    src: url("fonts/Inter-roman.var.woff2") format("woff2");
  }

  @font-face {
    font-family: "Inter subset";
    font-weight: 100 900;
    font-style: italic;
    font-display: swap;
    src: url("fonts/Inter-italic.var.woff2") format("woff2");
  }

  @font-face {
    font-family: "Iosevka subset";
    font-weight: 400;
    font-style: normal;
    font-display: swap;
    src: url("fonts/iosevka-fixed-extended.woff2") format("woff2");
  }

  @font-face {
    font-family: "Iosevka subset";
    font-weight: 400;
    font-style: italic;
    font-display: swap;
    src: url("fonts/iosevka-fixed-extendeditalic.woff2") format("woff2");
  }

  @font-face {
    font-family: "Iosevka subset";
    font-weight: 700;
    font-style: normal;
    font-display: swap;
    src: url("fonts/iosevka-fixed-extendedbold.woff2") format("woff2");
  }

  @font-face {
    font-family: "Iosevka subset";
    font-weight: 700;
    font-style: italic;
    font-display: swap;
    src: url("fonts/iosevka-fixed-extendedbolditalic.woff2") format("woff2");
  }

  * {
    @apply no-font-feature-case font-feature-inter;
    font-feature-settings: var(--font-feature-case), var(--font-feature-inter);
  }

  /* also update components/prose.mjs */
  a {
    @apply text-purple-600 dark:text-purple-400 font-medium underline;
  }

  code,
  kbd,
  pre,
  samp {
    @apply no-font-feature-inter;
  }

  .prose kbd.key {
    @apply font-sans font-feature-inter text-sm lg:text-base xl:text-lg 2xl:text-xl px-1 lg:px-1.5 py-0.5;
    @apply border rounded border-gray-400 bg-gray-200 dark:border-gray-600 dark:bg-gray-800;
  }
}

@layer components {
  .footnote-reference a,
  .footnote-definition-label a {
    @apply no-underline;
  }

  .footnote-definition {
    @apply relative text-sm lg:text-base xl:text-lg 2xl:text-xl;
  }

  .footnote-definition-label {
    @apply absolute mt-[1.25em] lg:mt-[1.3333333em] xl:mt-[1.2em] 2xl:mt-[1.3333333em];
  }

  .footnote-definition p {
    @apply pl-3.5 lg:pl-4 xl:pl-5 2xl:pl-6;
  }
}

@layer utilities {
  .font-feature-case {
    --font-feature-case: "case" on;
  }

  .no-font-feature-case {
    --font-feature-case: "case" off;
  }

  .font-feature-inter {
    --font-feature-inter: "cv05" on, "cv08" on, "ss03" on;
  }

  .no-font-feature-inter {
    --font-feature-inter: "cv05" off, "cv08" off, "ss03" off;
  }
}
